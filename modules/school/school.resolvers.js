import School from"./school.model.js";const schoolResolvers={Query:{schools:async()=>{try{return await School.find({is_deleted:!1}).sort({createdAt:-1})}catch(e){return{status:400,type:"error",message:e.message}}},getSchoolById:async(e,s)=>{try{const e=await School.findOne({_id:s.id,is_deleted:!1});return e||{status:400,type:"error",message:`School with ID ${s.id} not found`}}catch(e){return{status:400,type:"error",message:e.message}}}},Mutation:{addSchool:async(e,s)=>{try{const e=new School(s.data);return await e.save(),{status:200,type:"success",message:"School successfully added"}}catch(e){return{status:400,type:"error",message:e.message}}},updateSchool:async(e,s)=>{try{return await School.findByIdAndUpdate(s.id,s.data,{new:!0,runValidators:!0})?{status:200,type:"success",message:"School successfully updated"}:{status:400,type:"error",message:`School with ID ${s.id} not found`}}catch(e){return{status:400,type:"error",message:e.message}}},deleteSchool:async(e,s)=>{try{return await School.findByIdAndUpdate(s.id,{is_deleted:!0,date_deleted:Date.now()})?{status:200,type:"success",message:"School successfully deleted"}:{status:400,type:"error",message:`School with ID ${s.id} not found`}}catch(e){return{status:400,type:"error",message:e.message}}},deleteMultipleSchools:async(e,s)=>{try{return await School.updateMany({_id:{$in:s.data},is_deleted:!1},{is_deleted:!0,date_deleted:Date.now()})?{status:200,type:"success",message:"Schools successfully deleted"}:{status:400,type:"error",message:"Schools not found"}}catch(e){return{status:400,type:"error",message:e.message}}}}};export default schoolResolvers;