import Subscriber from"./subscriber.model.js";const subscriberResolvers={Query:{subscribers:async(e,s)=>await Subscriber.find().sort({createdAt:-1})},Mutation:{createSubscriber:async(e,s)=>{try{if(await Subscriber.findOne({email_address:s.email_address}))return{status:400,message:"Email address already subscribed"};const e=new Subscriber({email_address:s.email_address});return await e.save(),{status:200,message:"Successfully subscribed to newsletter"}}catch(e){return{status:500,message:"Failed to subscribe"}}},deleteSubscriber:async(e,s)=>{try{return await Subscriber.findByIdAndDelete(s.id)?{status:200,type:"success",message:"Subscriber successfully deleted"}:{status:400,type:"error",message:`Subscriber with ID ${s.id} not found`}}catch(e){return{status:400,type:"error",message:e.message}}},deleteMultipleSubscriber:async(e,s)=>{try{return await Subscriber.deleteMany({_id:{$in:s.data}})?{status:200,type:"success",message:"Subscriber successfully deleted"}:{status:400,type:"error",message:"Subscriber  not found"}}catch(e){return{status:400,type:"error",message:e.message}}}}};export default subscriberResolvers;