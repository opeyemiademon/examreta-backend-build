import mongoose from"mongoose";const{Schema:Schema}=mongoose,answerOptionSchema=new Schema({id:String,content:String,isCorrect:Boolean},{_id:!1}),matchPairSchema=new Schema({id:String,option:String,match:String},{_id:!1}),gapSchema=new Schema({id:String,text:String,acceptedAnswers:[String]},{_id:!1}),markingInstructionSchema=new Schema({id:String,points:Number,description:String},{_id:!1}),gridCellSchema=new Schema({type:{type:String,enum:["checkbox","text"]},value:Schema.Types.Mixed,isCorrect:Boolean},{_id:!1}),gridRowSchema=new Schema({id:String,label:String,cells:[gridCellSchema]},{_id:!1}),gridColumnSchema=new Schema({id:String,label:String},{_id:!1}),settingsSchema=new Schema({enableAutoMarking:Boolean,caseSensitive:Boolean,ignoreSpaces:Boolean,strictPunctuation:Boolean},{_id:!1}),markingRulesSchema=new Schema({awardPointsBy:{type:String,enum:["per_answer","all_correct"]},pointsPerAnswer:Number,pointsPerMatch:Number,pointsPerGap:Number,pointsPerRow:Number},{_id:!1}),questionSchema=new Schema({code:String,school:[{type:Schema.Types.ObjectId,ref:"School"}],staff:[{type:Schema.Types.ObjectId,ref:"Staff"}],group_code:String,tip:String,type:{type:String,required:!0,enum:["simple_answer","multiple_choice","match_answers","information","fill_gaps","free_text","grid","attachment"]},question:String,content:String,subject:[{type:Schema.Types.ObjectId,ref:"Subject"}],tag:String,difficultyLevel:{type:String,enum:["easy","medium","hard"],default:"medium"},points:Number,totalPoints:Number,answers:[String],settings:settingsSchema,answerOptions:[answerOptionSchema],selectionMode:{type:String,enum:["single","multiple"]},shuffleAnswers:Boolean,matchPairs:[matchPairSchema],gaps:[gapSchema],characterLimit:String,answerFormat:{type:String,enum:["text","paragraph","essay"]},markingInstructions:[markingInstructionSchema],columns:[gridColumnSchema],rows:[gridRowSchema],shuffleOrder:Boolean,markingRules:markingRulesSchema,status:String,is_deleted:{type:Boolean,default:!1},date_deleted:{type:Date,default:""}},{timestamps:!0});questionSchema.index({school:1,createdAt:-1}),questionSchema.index({school:1,is_deleted:1}),questionSchema.index({school:1,status:1}),questionSchema.index({code:1}),questionSchema.index({group_code:1});const Question=mongoose.model("Question",questionSchema);export default Question;